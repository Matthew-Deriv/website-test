<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Model Validation Teams’s API Automation Testing Project’s documentation! &mdash; API Testing Automation Project 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=7e3e2e94" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d45e8c67"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            API Testing Automation Project
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to Model Validation Teams’s API Automation Testing Project’s documentation!</a></li>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#key-features">Key Features</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#documentation-contents">Documentation Contents</a></li>
<li><a class="reference internal" href="#module-mvapi">Module Documentation</a><ul>
<li><a class="reference internal" href="#mvapi.accu_tick_size_barrier_builder"><code class="docutils literal notranslate"><span class="pre">accu_tick_size_barrier_builder()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.insert_dict"><code class="docutils literal notranslate"><span class="pre">insert_dict()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.dict_to_df"><code class="docutils literal notranslate"><span class="pre">dict_to_df()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.get_sigma"><code class="docutils literal notranslate"><span class="pre">get_sigma()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.get_stake"><code class="docutils literal notranslate"><span class="pre">get_stake()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.roundsf"><code class="docutils literal notranslate"><span class="pre">roundsf()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.roundup"><code class="docutils literal notranslate"><span class="pre">roundup()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.rounddown"><code class="docutils literal notranslate"><span class="pre">rounddown()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.set_limit_orders"><code class="docutils literal notranslate"><span class="pre">set_limit_orders()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product"><code class="docutils literal notranslate"><span class="pre">Product</span></code></a><ul>
<li><a class="reference internal" href="#mvapi.Product.api_token"><code class="docutils literal notranslate"><span class="pre">Product.api_token</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.stake"><code class="docutils literal notranslate"><span class="pre">Product.stake</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.symbol"><code class="docutils literal notranslate"><span class="pre">Product.symbol</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.messages"><code class="docutils literal notranslate"><span class="pre">Product.messages</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.endpoint"><code class="docutils literal notranslate"><span class="pre">Product.endpoint</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.retry"><code class="docutils literal notranslate"><span class="pre">Product.retry</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.contract_ids"><code class="docutils literal notranslate"><span class="pre">Product.contract_ids</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.ws"><code class="docutils literal notranslate"><span class="pre">Product.ws</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.__init__"><code class="docutils literal notranslate"><span class="pre">Product.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">Product.stake</span></code></a></li>
<li><a class="reference internal" href="#id1"><code class="docutils literal notranslate"><span class="pre">Product.symbol</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.take_profit"><code class="docutils literal notranslate"><span class="pre">Product.take_profit</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.stop_loss"><code class="docutils literal notranslate"><span class="pre">Product.stop_loss</span></code></a></li>
<li><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">Product.messages</span></code></a></li>
<li><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">Product.endpoint</span></code></a></li>
<li><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">Product.api_token</span></code></a></li>
<li><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">Product.retry</span></code></a></li>
<li><a class="reference internal" href="#id6"><code class="docutils literal notranslate"><span class="pre">Product.contract_ids</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.stats"><code class="docutils literal notranslate"><span class="pre">Product.stats</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.app_details"><code class="docutils literal notranslate"><span class="pre">Product.app_details</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._set_attributes"><code class="docutils literal notranslate"><span class="pre">Product._set_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._set_app_details"><code class="docutils literal notranslate"><span class="pre">Product._set_app_details()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._get_app_markup"><code class="docutils literal notranslate"><span class="pre">Product._get_app_markup()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._get_app_id"><code class="docutils literal notranslate"><span class="pre">Product._get_app_id()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._proposal"><code class="docutils literal notranslate"><span class="pre">Product._proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._send"><code class="docutils literal notranslate"><span class="pre">Product._send()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.send_message"><code class="docutils literal notranslate"><span class="pre">Product.send_message()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.stream"><code class="docutils literal notranslate"><span class="pre">Product.stream()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.price_proposal"><code class="docutils literal notranslate"><span class="pre">Product.price_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.buy_contract"><code class="docutils literal notranslate"><span class="pre">Product.buy_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.contract_proposal"><code class="docutils literal notranslate"><span class="pre">Product.contract_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.get_all_poc"><code class="docutils literal notranslate"><span class="pre">Product.get_all_poc()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.tick_history"><code class="docutils literal notranslate"><span class="pre">Product.tick_history()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._check_connection"><code class="docutils literal notranslate"><span class="pre">Product._check_connection()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._check_closed"><code class="docutils literal notranslate"><span class="pre">Product._check_closed()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.sell_contract"><code class="docutils literal notranslate"><span class="pre">Product.sell_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.sell_all_contracts"><code class="docutils literal notranslate"><span class="pre">Product.sell_all_contracts()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.create_ws"><code class="docutils literal notranslate"><span class="pre">Product.create_ws()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product.authorise"><code class="docutils literal notranslate"><span class="pre">Product.authorise()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Product._recv_msg_handler"><code class="docutils literal notranslate"><span class="pre">Product._recv_msg_handler()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mvapi.accu_barriers"><code class="docutils literal notranslate"><span class="pre">accu_barriers()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.accu_payout"><code class="docutils literal notranslate"><span class="pre">accu_payout()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator"><code class="docutils literal notranslate"><span class="pre">Accumulator</span></code></a><ul>
<li><a class="reference internal" href="#mvapi.Accumulator.species"><code class="docutils literal notranslate"><span class="pre">Accumulator.species</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.contract_type"><code class="docutils literal notranslate"><span class="pre">Accumulator.contract_type</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.growth_rate"><code class="docutils literal notranslate"><span class="pre">Accumulator.growth_rate</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.randomise_attributes"><code class="docutils literal notranslate"><span class="pre">Accumulator.randomise_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._proposal"><code class="docutils literal notranslate"><span class="pre">Accumulator._proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.check_barrier"><code class="docutils literal notranslate"><span class="pre">Accumulator.check_barrier()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.check_payout"><code class="docutils literal notranslate"><span class="pre">Accumulator.check_payout()</span></code></a></li>
<li><a class="reference internal" href="#id7"><code class="docutils literal notranslate"><span class="pre">Accumulator.species</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.__init__"><code class="docutils literal notranslate"><span class="pre">Accumulator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id8"><code class="docutils literal notranslate"><span class="pre">Accumulator.randomise_attributes()</span></code></a></li>
<li><a class="reference internal" href="#id9"><code class="docutils literal notranslate"><span class="pre">Accumulator._proposal()</span></code></a></li>
<li><a class="reference internal" href="#id10"><code class="docutils literal notranslate"><span class="pre">Accumulator.check_barrier()</span></code></a></li>
<li><a class="reference internal" href="#id11"><code class="docutils literal notranslate"><span class="pre">Accumulator.check_payout()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._check_closed"><code class="docutils literal notranslate"><span class="pre">Accumulator._check_closed()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._check_connection"><code class="docutils literal notranslate"><span class="pre">Accumulator._check_connection()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._get_app_id"><code class="docutils literal notranslate"><span class="pre">Accumulator._get_app_id()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._get_app_markup"><code class="docutils literal notranslate"><span class="pre">Accumulator._get_app_markup()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._recv_msg_handler"><code class="docutils literal notranslate"><span class="pre">Accumulator._recv_msg_handler()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._send"><code class="docutils literal notranslate"><span class="pre">Accumulator._send()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._set_app_details"><code class="docutils literal notranslate"><span class="pre">Accumulator._set_app_details()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator._set_attributes"><code class="docutils literal notranslate"><span class="pre">Accumulator._set_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.authorise"><code class="docutils literal notranslate"><span class="pre">Accumulator.authorise()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.buy_contract"><code class="docutils literal notranslate"><span class="pre">Accumulator.buy_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.contract_proposal"><code class="docutils literal notranslate"><span class="pre">Accumulator.contract_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.create_ws"><code class="docutils literal notranslate"><span class="pre">Accumulator.create_ws()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.get_all_poc"><code class="docutils literal notranslate"><span class="pre">Accumulator.get_all_poc()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.price_proposal"><code class="docutils literal notranslate"><span class="pre">Accumulator.price_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.sell_all_contracts"><code class="docutils literal notranslate"><span class="pre">Accumulator.sell_all_contracts()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.sell_contract"><code class="docutils literal notranslate"><span class="pre">Accumulator.sell_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.send_message"><code class="docutils literal notranslate"><span class="pre">Accumulator.send_message()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.stream"><code class="docutils literal notranslate"><span class="pre">Accumulator.stream()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Accumulator.tick_history"><code class="docutils literal notranslate"><span class="pre">Accumulator.tick_history()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mvapi.vanilla_barriers"><code class="docutils literal notranslate"><span class="pre">vanilla_barriers()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.vanilla_ppp_ask"><code class="docutils literal notranslate"><span class="pre">vanilla_ppp_ask()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.vanilla_payout"><code class="docutils literal notranslate"><span class="pre">vanilla_payout()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla"><code class="docutils literal notranslate"><span class="pre">Vanilla</span></code></a><ul>
<li><a class="reference internal" href="#mvapi.Vanilla.contract_type"><code class="docutils literal notranslate"><span class="pre">Vanilla.contract_type</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.strike"><code class="docutils literal notranslate"><span class="pre">Vanilla.strike</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.duration"><code class="docutils literal notranslate"><span class="pre">Vanilla.duration</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.duration_unit"><code class="docutils literal notranslate"><span class="pre">Vanilla.duration_unit</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.randomise_attributes"><code class="docutils literal notranslate"><span class="pre">Vanilla.randomise_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._proposal"><code class="docutils literal notranslate"><span class="pre">Vanilla._proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.check_barrier"><code class="docutils literal notranslate"><span class="pre">Vanilla.check_barrier()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.check_ask"><code class="docutils literal notranslate"><span class="pre">Vanilla.check_ask()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.bid_check"><code class="docutils literal notranslate"><span class="pre">Vanilla.bid_check()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.species"><code class="docutils literal notranslate"><span class="pre">Vanilla.species</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.__init__"><code class="docutils literal notranslate"><span class="pre">Vanilla.__init__()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.stake"><code class="docutils literal notranslate"><span class="pre">Vanilla.stake</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.symbol"><code class="docutils literal notranslate"><span class="pre">Vanilla.symbol</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.take_profit"><code class="docutils literal notranslate"><span class="pre">Vanilla.take_profit</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.stop_loss"><code class="docutils literal notranslate"><span class="pre">Vanilla.stop_loss</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.messages"><code class="docutils literal notranslate"><span class="pre">Vanilla.messages</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.endpoint"><code class="docutils literal notranslate"><span class="pre">Vanilla.endpoint</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.api_token"><code class="docutils literal notranslate"><span class="pre">Vanilla.api_token</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.retry"><code class="docutils literal notranslate"><span class="pre">Vanilla.retry</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.contract_ids"><code class="docutils literal notranslate"><span class="pre">Vanilla.contract_ids</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.stats"><code class="docutils literal notranslate"><span class="pre">Vanilla.stats</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.app_details"><code class="docutils literal notranslate"><span class="pre">Vanilla.app_details</span></code></a></li>
<li><a class="reference internal" href="#id12"><code class="docutils literal notranslate"><span class="pre">Vanilla.randomise_attributes()</span></code></a></li>
<li><a class="reference internal" href="#id13"><code class="docutils literal notranslate"><span class="pre">Vanilla._proposal()</span></code></a></li>
<li><a class="reference internal" href="#id14"><code class="docutils literal notranslate"><span class="pre">Vanilla.check_barrier()</span></code></a></li>
<li><a class="reference internal" href="#id15"><code class="docutils literal notranslate"><span class="pre">Vanilla.check_ask()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.check_payout"><code class="docutils literal notranslate"><span class="pre">Vanilla.check_payout()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._check_closed"><code class="docutils literal notranslate"><span class="pre">Vanilla._check_closed()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._check_connection"><code class="docutils literal notranslate"><span class="pre">Vanilla._check_connection()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._get_app_id"><code class="docutils literal notranslate"><span class="pre">Vanilla._get_app_id()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._get_app_markup"><code class="docutils literal notranslate"><span class="pre">Vanilla._get_app_markup()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._recv_msg_handler"><code class="docutils literal notranslate"><span class="pre">Vanilla._recv_msg_handler()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._send"><code class="docutils literal notranslate"><span class="pre">Vanilla._send()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._set_app_details"><code class="docutils literal notranslate"><span class="pre">Vanilla._set_app_details()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla._set_attributes"><code class="docutils literal notranslate"><span class="pre">Vanilla._set_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.authorise"><code class="docutils literal notranslate"><span class="pre">Vanilla.authorise()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.buy_contract"><code class="docutils literal notranslate"><span class="pre">Vanilla.buy_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.contract_proposal"><code class="docutils literal notranslate"><span class="pre">Vanilla.contract_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.create_ws"><code class="docutils literal notranslate"><span class="pre">Vanilla.create_ws()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.get_all_poc"><code class="docutils literal notranslate"><span class="pre">Vanilla.get_all_poc()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.price_proposal"><code class="docutils literal notranslate"><span class="pre">Vanilla.price_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.sell_all_contracts"><code class="docutils literal notranslate"><span class="pre">Vanilla.sell_all_contracts()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.sell_contract"><code class="docutils literal notranslate"><span class="pre">Vanilla.sell_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.send_message"><code class="docutils literal notranslate"><span class="pre">Vanilla.send_message()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.stream"><code class="docutils literal notranslate"><span class="pre">Vanilla.stream()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Vanilla.tick_history"><code class="docutils literal notranslate"><span class="pre">Vanilla.tick_history()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mvapi.turbo_ask"><code class="docutils literal notranslate"><span class="pre">turbo_ask()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.turbo_barrier"><code class="docutils literal notranslate"><span class="pre">turbo_barrier()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.turbo_ppps"><code class="docutils literal notranslate"><span class="pre">turbo_ppps()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.turbo_payout"><code class="docutils literal notranslate"><span class="pre">turbo_payout()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo"><code class="docutils literal notranslate"><span class="pre">Turbo</span></code></a><ul>
<li><a class="reference internal" href="#mvapi.Turbo.species"><code class="docutils literal notranslate"><span class="pre">Turbo.species</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.strike"><code class="docutils literal notranslate"><span class="pre">Turbo.strike</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.payout_per_point"><code class="docutils literal notranslate"><span class="pre">Turbo.payout_per_point</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.contract_type"><code class="docutils literal notranslate"><span class="pre">Turbo.contract_type</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.duration"><code class="docutils literal notranslate"><span class="pre">Turbo.duration</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.duration_unit"><code class="docutils literal notranslate"><span class="pre">Turbo.duration_unit</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.randomise_attributes"><code class="docutils literal notranslate"><span class="pre">Turbo.randomise_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._proposal"><code class="docutils literal notranslate"><span class="pre">Turbo._proposal()</span></code></a></li>
<li><a class="reference internal" href="#id16"><code class="docutils literal notranslate"><span class="pre">Turbo.species</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.__init__"><code class="docutils literal notranslate"><span class="pre">Turbo.__init__()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.stake"><code class="docutils literal notranslate"><span class="pre">Turbo.stake</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.symbol"><code class="docutils literal notranslate"><span class="pre">Turbo.symbol</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.take_profit"><code class="docutils literal notranslate"><span class="pre">Turbo.take_profit</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.stop_loss"><code class="docutils literal notranslate"><span class="pre">Turbo.stop_loss</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.messages"><code class="docutils literal notranslate"><span class="pre">Turbo.messages</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.endpoint"><code class="docutils literal notranslate"><span class="pre">Turbo.endpoint</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.api_token"><code class="docutils literal notranslate"><span class="pre">Turbo.api_token</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.retry"><code class="docutils literal notranslate"><span class="pre">Turbo.retry</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.contract_ids"><code class="docutils literal notranslate"><span class="pre">Turbo.contract_ids</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.stats"><code class="docutils literal notranslate"><span class="pre">Turbo.stats</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.app_details"><code class="docutils literal notranslate"><span class="pre">Turbo.app_details</span></code></a></li>
<li><a class="reference internal" href="#id17"><code class="docutils literal notranslate"><span class="pre">Turbo.randomise_attributes()</span></code></a></li>
<li><a class="reference internal" href="#id18"><code class="docutils literal notranslate"><span class="pre">Turbo._proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.get_start_of_min_tick"><code class="docutils literal notranslate"><span class="pre">Turbo.get_start_of_min_tick()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.check_ppps"><code class="docutils literal notranslate"><span class="pre">Turbo.check_ppps()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.check_payout"><code class="docutils literal notranslate"><span class="pre">Turbo.check_payout()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._check_closed"><code class="docutils literal notranslate"><span class="pre">Turbo._check_closed()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._check_connection"><code class="docutils literal notranslate"><span class="pre">Turbo._check_connection()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._get_app_id"><code class="docutils literal notranslate"><span class="pre">Turbo._get_app_id()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._get_app_markup"><code class="docutils literal notranslate"><span class="pre">Turbo._get_app_markup()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._recv_msg_handler"><code class="docutils literal notranslate"><span class="pre">Turbo._recv_msg_handler()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._send"><code class="docutils literal notranslate"><span class="pre">Turbo._send()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._set_app_details"><code class="docutils literal notranslate"><span class="pre">Turbo._set_app_details()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo._set_attributes"><code class="docutils literal notranslate"><span class="pre">Turbo._set_attributes()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.authorise"><code class="docutils literal notranslate"><span class="pre">Turbo.authorise()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.buy_contract"><code class="docutils literal notranslate"><span class="pre">Turbo.buy_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.contract_proposal"><code class="docutils literal notranslate"><span class="pre">Turbo.contract_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.create_ws"><code class="docutils literal notranslate"><span class="pre">Turbo.create_ws()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.get_all_poc"><code class="docutils literal notranslate"><span class="pre">Turbo.get_all_poc()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.price_proposal"><code class="docutils literal notranslate"><span class="pre">Turbo.price_proposal()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.sell_all_contracts"><code class="docutils literal notranslate"><span class="pre">Turbo.sell_all_contracts()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.sell_contract"><code class="docutils literal notranslate"><span class="pre">Turbo.sell_contract()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.send_message"><code class="docutils literal notranslate"><span class="pre">Turbo.send_message()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.stream"><code class="docutils literal notranslate"><span class="pre">Turbo.stream()</span></code></a></li>
<li><a class="reference internal" href="#mvapi.Turbo.tick_history"><code class="docutils literal notranslate"><span class="pre">Turbo.tick_history()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id19"><code class="docutils literal notranslate"><span class="pre">Product</span></code></a><ul>
<li><a class="reference internal" href="#id20"><code class="docutils literal notranslate"><span class="pre">Product.api_token</span></code></a></li>
<li><a class="reference internal" href="#id21"><code class="docutils literal notranslate"><span class="pre">Product.stake</span></code></a></li>
<li><a class="reference internal" href="#id22"><code class="docutils literal notranslate"><span class="pre">Product.symbol</span></code></a></li>
<li><a class="reference internal" href="#id23"><code class="docutils literal notranslate"><span class="pre">Product.messages</span></code></a></li>
<li><a class="reference internal" href="#id24"><code class="docutils literal notranslate"><span class="pre">Product.endpoint</span></code></a></li>
<li><a class="reference internal" href="#id25"><code class="docutils literal notranslate"><span class="pre">Product.retry</span></code></a></li>
<li><a class="reference internal" href="#id26"><code class="docutils literal notranslate"><span class="pre">Product.contract_ids</span></code></a></li>
<li><a class="reference internal" href="#id27"><code class="docutils literal notranslate"><span class="pre">Product.ws</span></code></a></li>
<li><a class="reference internal" href="#id28"><code class="docutils literal notranslate"><span class="pre">Product.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id29"><code class="docutils literal notranslate"><span class="pre">Product.stake</span></code></a></li>
<li><a class="reference internal" href="#id30"><code class="docutils literal notranslate"><span class="pre">Product.symbol</span></code></a></li>
<li><a class="reference internal" href="#id31"><code class="docutils literal notranslate"><span class="pre">Product.take_profit</span></code></a></li>
<li><a class="reference internal" href="#id32"><code class="docutils literal notranslate"><span class="pre">Product.stop_loss</span></code></a></li>
<li><a class="reference internal" href="#id33"><code class="docutils literal notranslate"><span class="pre">Product.messages</span></code></a></li>
<li><a class="reference internal" href="#id34"><code class="docutils literal notranslate"><span class="pre">Product.endpoint</span></code></a></li>
<li><a class="reference internal" href="#id35"><code class="docutils literal notranslate"><span class="pre">Product.api_token</span></code></a></li>
<li><a class="reference internal" href="#id36"><code class="docutils literal notranslate"><span class="pre">Product.retry</span></code></a></li>
<li><a class="reference internal" href="#id37"><code class="docutils literal notranslate"><span class="pre">Product.contract_ids</span></code></a></li>
<li><a class="reference internal" href="#id38"><code class="docutils literal notranslate"><span class="pre">Product.stats</span></code></a></li>
<li><a class="reference internal" href="#id39"><code class="docutils literal notranslate"><span class="pre">Product.app_details</span></code></a></li>
<li><a class="reference internal" href="#id40"><code class="docutils literal notranslate"><span class="pre">Product._set_attributes()</span></code></a></li>
<li><a class="reference internal" href="#id41"><code class="docutils literal notranslate"><span class="pre">Product._set_app_details()</span></code></a></li>
<li><a class="reference internal" href="#id42"><code class="docutils literal notranslate"><span class="pre">Product._get_app_markup()</span></code></a></li>
<li><a class="reference internal" href="#id43"><code class="docutils literal notranslate"><span class="pre">Product._get_app_id()</span></code></a></li>
<li><a class="reference internal" href="#id44"><code class="docutils literal notranslate"><span class="pre">Product._proposal()</span></code></a></li>
<li><a class="reference internal" href="#id45"><code class="docutils literal notranslate"><span class="pre">Product._send()</span></code></a></li>
<li><a class="reference internal" href="#id46"><code class="docutils literal notranslate"><span class="pre">Product.send_message()</span></code></a></li>
<li><a class="reference internal" href="#id47"><code class="docutils literal notranslate"><span class="pre">Product.stream()</span></code></a></li>
<li><a class="reference internal" href="#id48"><code class="docutils literal notranslate"><span class="pre">Product.price_proposal()</span></code></a></li>
<li><a class="reference internal" href="#id49"><code class="docutils literal notranslate"><span class="pre">Product.buy_contract()</span></code></a></li>
<li><a class="reference internal" href="#id50"><code class="docutils literal notranslate"><span class="pre">Product.contract_proposal()</span></code></a></li>
<li><a class="reference internal" href="#id51"><code class="docutils literal notranslate"><span class="pre">Product.get_all_poc()</span></code></a></li>
<li><a class="reference internal" href="#id52"><code class="docutils literal notranslate"><span class="pre">Product.tick_history()</span></code></a></li>
<li><a class="reference internal" href="#id53"><code class="docutils literal notranslate"><span class="pre">Product._check_connection()</span></code></a></li>
<li><a class="reference internal" href="#id54"><code class="docutils literal notranslate"><span class="pre">Product._check_closed()</span></code></a></li>
<li><a class="reference internal" href="#id55"><code class="docutils literal notranslate"><span class="pre">Product.sell_contract()</span></code></a></li>
<li><a class="reference internal" href="#id56"><code class="docutils literal notranslate"><span class="pre">Product.sell_all_contracts()</span></code></a></li>
<li><a class="reference internal" href="#id57"><code class="docutils literal notranslate"><span class="pre">Product.create_ws()</span></code></a></li>
<li><a class="reference internal" href="#id58"><code class="docutils literal notranslate"><span class="pre">Product.authorise()</span></code></a></li>
<li><a class="reference internal" href="#id59"><code class="docutils literal notranslate"><span class="pre">Product._recv_msg_handler()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">API Testing Automation Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to Model Validation Teams’s API Automation Testing Project’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-model-validation-teams-s-api-automation-testing-project-s-documentation">
<h1>Welcome to Model Validation Teams’s API Automation Testing Project’s documentation!<a class="headerlink" href="#welcome-to-model-validation-teams-s-api-automation-testing-project-s-documentation" title="Link to this heading"></a></h1>
</section>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h1>
<p>Welcome to the documentation for <strong>API Automation Testing Project</strong>. This project aims to provide a Python library to streamline the testing and validation processes of both existing and upcoming products leveraging our Deriv API.
Presently, the project is at its development stages, with an emphasis on fully automating the validation of vanillas before moving on to turbo and accumulators.</p>
</section>
<section id="key-features">
<h1>Key Features<a class="headerlink" href="#key-features" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>Feature 1: Brief description of feature 1.</p></li>
<li><p>Feature 2: Brief description of feature 2.</p></li>
<li><p>Feature 3: Brief description of feature 3.</p></li>
</ul>
</section>
<section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h1>
<p>To get started with <strong>API Automation Testing</strong>, you can install it using pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>import<span class="w"> </span>mvapi
</pre></div>
</div>
<p>To use the main features, see the following guides:</p>
<p>[work in progress]</p>
</section>
<section id="documentation-contents">
<h1>Documentation Contents<a class="headerlink" href="#documentation-contents" title="Link to this heading"></a></h1>
<p>[work in progress]</p>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="module-mvapi">
<span id="module-documentation"></span><h1>Module Documentation<a class="headerlink" href="#module-mvapi" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="mvapi.accu_tick_size_barrier_builder">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">accu_tick_size_barrier_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_probs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'0.01':</span> <span class="pre">0.015,</span> <span class="pre">'0.02':</span> <span class="pre">0.023,</span> <span class="pre">'0.03':</span> <span class="pre">0.033,</span> <span class="pre">'0.04':</span> <span class="pre">0.0425,</span> <span class="pre">'0.05':</span> <span class="pre">0.0535}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#accu_tick_size_barrier_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.accu_tick_size_barrier_builder" title="Link to this definition"></a></dt>
<dd><p>Builds the tick size barriers for each growth rate for each symbol based on their loss probabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>loss_probs</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dictionary with keys as growth rates and values as corresponding loss probabilities.
Defaults to <cite>default_loss_probs</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Run at the start to build the tick size barrier for each growth rate for each symbol based on preset default values.</p>
<p>The function updates the tick size barrier for each growth rate for each symbol in the ‘symbols’ dictionary
by solving for the barrier for each growth rate using the given loss probabilities.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">loss_probs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0.01&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span> <span class="s1">&#39;0.02&#39;</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s1">&#39;0.03&#39;</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span> <span class="s1">&#39;0.04&#39;</span><span class="p">:</span> <span class="mf">0.04</span><span class="p">,</span> <span class="s1">&#39;0.05&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accu_tick_size_barrier_builder</span><span class="p">(</span><span class="n">loss_probs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.insert_dict">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">insert_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#insert_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.insert_dict" title="Link to this definition"></a></dt>
<dd><p>Insert or update a dictionary into the key of the given item.</p>
<p>This function attempts to update the specified key of the provided item with the
key-value pairs from the provided dictionary. If the key does not exist in the item,
it initializes the key as an empty dictionary before performing the update.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>dict</em>) – The dictionary in which the key-value pairs are to be inserted or updated.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – The key within the item dictionary to be updated with the provided dictionary.</p></li>
<li><p><strong>_dict</strong> (<em>dict</em>) – The dictionary containing key-value pairs to be inserted or updated into the item.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">insert_dict</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: {}, &#39;b&#39;: {&#39;y&#39;: 2}}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">insert_dict</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: {}, &#39;b&#39;: {&#39;y&#39;: 2}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.dict_to_df">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">dict_to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/mvapi.html#dict_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.dict_to_df" title="Link to this definition"></a></dt>
<dd><p>Convert a dictionary to a pandas DataFrame.</p>
<p>This function takes a dictionary and converts it to a pandas DataFrame. The dictionary’s keys
become a ‘Category’ column in the DataFrame, and the associated values become other columns.
If the dictionary cannot be converted, it creates a DataFrame with the dictionary’s content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_dict</strong> (<em>dict</em>) – The dictionary to be converted to a DataFrame.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title to be printed alongside the DataFrame for identification.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The resulting DataFrame created from the dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;value1&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;value1&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dict_to_df</span><span class="p">(</span><span class="n">_dict</span><span class="p">,</span> <span class="s1">&#39;Example Title&#39;</span><span class="p">)</span>
<span class="go">Stats for Example Title check</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">Category  value1  value2</span>
<span class="go">0        A      10      20</span>
<span class="go">1        B      30      40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.get_sigma">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">get_sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#get_sigma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.get_sigma" title="Link to this definition"></a></dt>
<dd><p>Get the sigma value for a given symbol.</p>
<p>This function retrieves the ‘sigma’ value associated with the provided symbol
from a predefined symbols dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbol</strong> (<em>str</em>) – The symbol for which the sigma value is to be retrieved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sigma value associated with the given symbol.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_sigma</span><span class="p">(</span><span class="s1">&#39;1HZ75V&#39;</span><span class="p">)</span>
<span class="go">0.75</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.get_stake">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">get_stake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#get_stake"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.get_stake" title="Link to this definition"></a></dt>
<dd><p>Get the stake amount from a given proposal.</p>
<p>This function calculates the stake amount from the provided proposal by subtracting
the app markup amount from the proposal’s requested amount. If the app markup amount
is not available, it returns the requested amount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> (<em>dict</em>) – The proposal from which the stake amount is to be retrieved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated stake amount from the given proposal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prop</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;echo_req&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;proposal&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;contract_details&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;app_markup_amount&#39;</span><span class="p">:</span> <span class="s1">&#39;5&#39;</span><span class="p">}}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_stake</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span>
<span class="go">95.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prop</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;echo_req&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_stake</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span>
<span class="go">100.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.roundsf">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">roundsf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#roundsf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.roundsf" title="Link to this definition"></a></dt>
<dd><p>Round a number to retain only the first non-zero digit.</p>
<p>This function takes a number, retains only the first non-zero digit, and
replaces all following digits with zeros.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number</strong> (<em>float</em>) – The number to be rounded.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rounded numeric value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">roundsf</span><span class="p">(</span><span class="mf">123.456</span><span class="p">)</span>
<span class="go">100.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">roundsf</span><span class="p">(</span><span class="mf">0.00456</span><span class="p">)</span>
<span class="go">0.004</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.roundup">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">roundup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#roundup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.roundup" title="Link to this definition"></a></dt>
<dd><p>Round up a number to the specified precision.</p>
<p>This function rounds up a number to the specified number of decimal places.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<em>float</em>) – The number to be rounded up.</p></li>
<li><p><strong>prec</strong> (<em>int</em>) – The number of decimal places to round up to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number rounded up to the specified precision.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">roundup</span><span class="p">(</span><span class="mf">123.456</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">123.46</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">roundup</span><span class="p">(</span><span class="mf">0.00456</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">0.005</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.rounddown">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">rounddown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#rounddown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.rounddown" title="Link to this definition"></a></dt>
<dd><p>Round down a number to the specified precision.</p>
<p>This function rounds down a number to the specified number of decimal places.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<em>float</em>) – The number to be rounded down.</p></li>
<li><p><strong>prec</strong> (<em>int</em>) – The number of decimal places to round down to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number rounded down to the specified precision.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rounddown</span><span class="p">(</span><span class="mf">123.456</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">123.45</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rounddown</span><span class="p">(</span><span class="mf">0.00456</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">0.004</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.set_limit_orders">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">set_limit_orders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">take_profit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#set_limit_orders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.set_limit_orders" title="Link to this definition"></a></dt>
<dd><p>Sets the take profit and stop loss limits for the given object.</p>
<p>This function updates the take profit and stop loss attributes of the object if they are
specified and valid to be set according to the contract types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – The object whose limit orders are to be set.</p></li>
<li><p><strong>take_profit</strong> (<em>float</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – The take profit value to be set. Defaults to None.</p></li>
<li><p><strong>stop_loss</strong> (<em>float</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – The stop loss value to be set. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mvapi.Product">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">Product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A base class to represent a product for trading contracts through DerivAPI via WebSocket.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.api_token">
<span class="sig-name descname"><span class="pre">api_token</span></span><a class="headerlink" href="#mvapi.Product.api_token" title="Link to this definition"></a></dt>
<dd><p>API token for authentication.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.stake">
<span class="sig-name descname"><span class="pre">stake</span></span><a class="headerlink" href="#mvapi.Product.stake" title="Link to this definition"></a></dt>
<dd><p>The amount to stake in each trade.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.symbol">
<span class="sig-name descname"><span class="pre">symbol</span></span><a class="headerlink" href="#mvapi.Product.symbol" title="Link to this definition"></a></dt>
<dd><p>The underlying symbol of the product.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.messages">
<span class="sig-name descname"><span class="pre">messages</span></span><a class="headerlink" href="#mvapi.Product.messages" title="Link to this definition"></a></dt>
<dd><p>List to store messages received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#mvapi.Product.endpoint" title="Link to this definition"></a></dt>
<dd><p>The WebSocket endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.retry">
<span class="sig-name descname"><span class="pre">retry</span></span><a class="headerlink" href="#mvapi.Product.retry" title="Link to this definition"></a></dt>
<dd><p>Counter for retry attempts when sending/receiving messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.contract_ids">
<span class="sig-name descname"><span class="pre">contract_ids</span></span><a class="headerlink" href="#mvapi.Product.contract_ids" title="Link to this definition"></a></dt>
<dd><p>List of contract IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.ws">
<span class="sig-name descname"><span class="pre">ws</span></span><a class="headerlink" href="#mvapi.Product.ws" title="Link to this definition"></a></dt>
<dd><p>WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>WebSocket</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_set_attributes(**kwargs)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_set_app_details()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Saves application details like endpoint and API token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_get_app_markup()</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>Retrieves the application markup percentage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_get_app_id(string)</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_proposal()</span> <span class="pre">:</span> <span class="pre">str</span></span></dt>
<dd><p>Generates a proposal based on the current proposal type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_send()</span> <span class="pre">:</span> <span class="pre">dict</span></span></dt>
<dd><p>Sends a proposal to the WebSocket and handles the response.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">send_message(message)</span> <span class="pre">:</span> <span class="pre">dict</span></span></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">stream()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Streams data from the WebSocket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">price_proposal(random=False,</span> <span class="pre">buy=False,</span> <span class="pre">take_profit=0,</span> <span class="pre">stop_loss=0,</span> <span class="pre">\*\*kwargs)</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Gets a price proposal.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">buy_contract(runs=1,</span> <span class="pre">random=False,</span> <span class="pre">\*\*kwargs)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Attempts to buy a contract.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">contract_proposal(contract_id=None,</span> <span class="pre">subscribe=0)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Gets contract details and optionally subscribes to updates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_all_poc()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Gets all proposal open contracts from saved contract IDs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">tick_history(symbol=False,</span> <span class="pre">count=1,</span> <span class="pre">end='latest')</span> <span class="pre">:</span> <span class="pre">dict</span></span></dt>
<dd><p>Retrieves historical tick data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_check_connection()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Checks the WebSocket connection and reopens it if closed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_check_closed()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Checks if a contract is closed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">sell_contract(contract_id=None)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Attempts to sell a contract.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">sell_all_contracts()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Attempts to sell all contracts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_ws()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Creates a new WebSocket connection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">authorise()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Authorises the WebSocket connection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_recv_msg_handler()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Handles messages received from the WebSocket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.__init__" title="Link to this definition"></a></dt>
<dd><p>Initializes a new instance of the Product class.</p>
<p>This constructor sets the initial attributes for the product, including default values
for stake, symbol, endpoint, and others. It also creates a WebSocket connection and
authorizes it if an API token is provided. Additionally, it sets application details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional attributes to be set for the instance.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">stake</span></span><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd><p>The amount to stake in each trade. Defaults to 10.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">symbol</span></span><a class="headerlink" href="#id1" title="Link to this definition"></a></dt>
<dd><p>The symbol of the product. Defaults to ‘1HZ100V’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.take_profit">
<span class="sig-name descname"><span class="pre">take_profit</span></span><a class="headerlink" href="#mvapi.Product.take_profit" title="Link to this definition"></a></dt>
<dd><p>The take profit amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.stop_loss">
<span class="sig-name descname"><span class="pre">stop_loss</span></span><a class="headerlink" href="#mvapi.Product.stop_loss" title="Link to this definition"></a></dt>
<dd><p>The stop loss amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">messages</span></span><a class="headerlink" href="#id2" title="Link to this definition"></a></dt>
<dd><p>List to store messages received from the WebSocket. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#id3" title="Link to this definition"></a></dt>
<dd><p>The WebSocket endpoint. Defaults to “wss://blue.derivws.com/websockets/v3?app_id=16929”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">api_token</span></span><a class="headerlink" href="#id4" title="Link to this definition"></a></dt>
<dd><p>API token for authentication. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">retry</span></span><a class="headerlink" href="#id5" title="Link to this definition"></a></dt>
<dd><p>Counter for retry attempts when sending/receiving messages. Initialized to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">contract_ids</span></span><a class="headerlink" href="#id6" title="Link to this definition"></a></dt>
<dd><p>List of contract IDs. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.stats">
<span class="sig-name descname"><span class="pre">stats</span></span><a class="headerlink" href="#mvapi.Product.stats" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store statistics. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Product.app_details">
<span class="sig-name descname"><span class="pre">app_details</span></span><a class="headerlink" href="#mvapi.Product.app_details" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store application details. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._set_attributes">
<span class="sig-name descname"><span class="pre">_set_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._set_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._set_attributes" title="Link to this definition"></a></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
<p>This method updates the instance’s attributes based on the provided keyword arguments.
If the ‘take_profit’ or ‘stoploss’ attributes are updated, it’ll call ‘set_limit_orders’ method.
If the ‘endpoint’ or ‘api_token’ attributes are updated, it also updates application details
and performs additional actions like creating a WebSocket connection or authorizing the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments representing attribute names and their values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._set_app_details">
<span class="sig-name descname"><span class="pre">_set_app_details</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._set_app_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._set_app_details" title="Link to this definition"></a></dt>
<dd><p>Retrieves application details such as endpoint, API token, app ID, and app markup percentage.</p>
<p>This method updates the <cite>app_details</cite> attribute with the current endpoint and API token.
It also retrieves and adds the application ID and markup percentage to the <cite>app_details</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._get_app_markup">
<span class="sig-name descname"><span class="pre">_get_app_markup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._get_app_markup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._get_app_markup" title="Link to this definition"></a></dt>
<dd><p>Retrieves the application markup percentage.</p>
<p>This method sends a request to get the application markup percentage after authorizing the WebSocket connection.
If an error occurs or the markup percentage is not available, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application markup percentage. Defaults to 0 if not retrievable.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._get_app_id">
<span class="sig-name descname"><span class="pre">_get_app_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._get_app_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._get_app_id" title="Link to this definition"></a></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
<p>This method parses the <cite>app_id</cite> from the endpoint URL string.
If parsing fails, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The endpoint URL from which to extract the application ID.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted application ID. Defaults to 0 if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._proposal">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._proposal" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal based on the current proposal type.</p>
<p>This method creates a JSON proposal based on the value of <cite>proposal_type</cite>.
It handles different proposal types such as buying a contract,
requesting a proposal, selling a contract, or raises an error if the type is not implemented.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The JSON string representation of the proposal.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If the <cite>proposal_type</cite> is ‘price_proposal’, indicating that this method should be used via a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._send">
<span class="sig-name descname"><span class="pre">_send</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._send" title="Link to this definition"></a></dt>
<dd><p>Sends the current proposal to the WebSocket and handles the response.</p>
<p>This method ensures the WebSocket connection is active, sends the proposal created by <cite>_proposal()</cite>,
and processes the response received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the message was successfully sent and a response was handled, otherwise <cite>False</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.send_message">
<span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.send_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.send_message" title="Link to this definition"></a></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket and returns the response.</p>
<p>This method ensures the WebSocket connection is active, sends the provided message,
and processes the response. If an exception occurs, it retries sending the message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>dict</em>) – The JSON message to send to the WebSocket.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response received from the WebSocket.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.stream">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.stream" title="Link to this definition"></a></dt>
<dd><p>Streams data from the WebSocket.</p>
<p>This method sends a proposal to the WebSocket and processes the incoming messages.
It handles the subscription to updates and stops streaming if the contract is closed or
a keyboard interrupt is detected.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns 1 upon successful completion of the streaming process.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.price_proposal">
<span class="sig-name descname"><span class="pre">price_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.price_proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.price_proposal" title="Link to this definition"></a></dt>
<dd><p>Requests a price proposal from the WebSocket.</p>
<p>This method sets the proposal type to ‘price_proposal’ and updates attributes based on
the provided arguments. It sends the proposal and optionally displays the response if
the <cite>buy</cite> parameter is <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>buy</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to buy the contract immediately after receiving the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>take_profit</strong> (<em>float</em><em>, </em><em>optional</em>) – The take profit value for the proposal. Defaults to 0.</p></li>
<li><p><strong>stop_loss</strong> (<em>float</em><em>, </em><em>optional</em>) – The stop loss value for the proposal. Defaults to 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the proposal was successfully sent and a response was received; otherwise, <cite>False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.buy_contract">
<span class="sig-name descname"><span class="pre">buy_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.buy_contract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.buy_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to buy a contract.</p>
<p>This method tries to buy a contract for a specified number of <cite>runs</cite>. It randomizes
attributes if required and sends a price proposal with the <cite>buy</cite> parameter set to <cite>True</cite>.
Upon success, it updates the <cite>proposal_id</cite> and sends a buy contract proposal. The contract
ID is then appended to the <cite>contract_ids</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runs</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of contracts to attempt to buy. Defaults to 1.</p></li>
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.contract_proposal">
<span class="sig-name descname"><span class="pre">contract_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subscribe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.contract_proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.contract_proposal" title="Link to this definition"></a></dt>
<dd><p>Gets the contract proposal.</p>
<p>This method retrieves the details of a contract using the provided <cite>contract_id</cite>.
If no <cite>contract_id</cite> is provided, it uses the last saved contract ID. It sends a
contract proposal message and optionally subscribes to updates based on the <cite>subscribe</cite> parameter.
If <cite>subscribe</cite> is set to 1, it starts streaming the contract updates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to retrieve details for. If not provided, the last saved contract ID is used.</p></li>
<li><p><strong>subscribe</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to subscribe to updates for the contract. Defaults to 0 (no subscription). If set to 1,
streaming of contract updates is initiated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.get_all_poc">
<span class="sig-name descname"><span class="pre">get_all_poc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.get_all_poc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.get_all_poc" title="Link to this definition"></a></dt>
<dd><p>Retrieves all open contract proposals.</p>
<p>This method iterates through all contract IDs stored in <cite>self.contract_ids</cite> and retrieves the details
for each open contract by calling the <cite>contract_proposal</cite> method with each contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.tick_history">
<span class="sig-name descname"><span class="pre">tick_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.tick_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.tick_history" title="Link to this definition"></a></dt>
<dd><p>Fetches historical tick data for the specified symbol.</p>
<p>This method constructs a message to request historical tick data from the WebSocket API. It sends the
request with parameters specifying the symbol, number of ticks to retrieve, and the end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em><em>, </em><em>optional</em>) – The symbol for which to retrieve tick history. If not provided, defaults to <cite>self.symbol</cite>.</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of ticks to retrieve. Defaults to 1.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – The end time for the tick data. Defaults to ‘latest’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response from the WebSocket API containing the tick history data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._check_connection">
<span class="sig-name descname"><span class="pre">_check_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._check_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._check_connection" title="Link to this definition"></a></dt>
<dd><p>Checks the WebSocket connection by sending a ping message and waiting for a response. If an exception
occurs (indicating the connection is closed), it attempts to reconnect by creating a new WebSocket
connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._check_closed">
<span class="sig-name descname"><span class="pre">_check_closed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._check_closed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._check_closed" title="Link to this definition"></a></dt>
<dd><p>Checks if the contract has expired or been sold.</p>
<p>This method inspects the latest message received from the WebSocket API to determine if the contract is
expired or sold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the contract is expired or sold, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.sell_contract">
<span class="sig-name descname"><span class="pre">sell_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.sell_contract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.sell_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to sell a contract by its ID.</p>
<p>This method sets the proposal type to ‘sell_contract’ and sends the proposal to the WebSocket API.
It handles the response and displays the result. If the proposal is unsuccessful, it retrieves the
contract proposal details again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to sell. If not provided, the last saved contract ID is used.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.sell_all_contracts">
<span class="sig-name descname"><span class="pre">sell_all_contracts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.sell_all_contracts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.sell_all_contracts" title="Link to this definition"></a></dt>
<dd><p>Sells all contracts in the contract IDs list.</p>
<p>This method iterates over the list of contract IDs, and attempts to sell each contract one by one
by calling the <cite>sell_contract</cite> method</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.create_ws">
<span class="sig-name descname"><span class="pre">create_ws</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.create_ws"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.create_ws" title="Link to this definition"></a></dt>
<dd><p>Creates a WebSocket connection to the specified endpoint.</p>
<p>This method initializes the WebSocket connection using the endpoint URL. It sets the <cite>ws</cite> attribute
to the WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product.authorise">
<span class="sig-name descname"><span class="pre">authorise</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.authorise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product.authorise" title="Link to this definition"></a></dt>
<dd><p>Authorizes the WebSocket connection using the provided API token.</p>
<p>This method sends an authorization request with the API token and checks the response to determine
if the authorization was successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if authorization is successful, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Product._recv_msg_handler">
<span class="sig-name descname"><span class="pre">_recv_msg_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._recv_msg_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Product._recv_msg_handler" title="Link to this definition"></a></dt>
<dd><p>Handles the reception of messages from the WebSocket.</p>
<p>This method attempts to receive and process messages from the WebSocket. It handles errors and retries
sending the request if necessary. Specific errors are managed with different strategies, such as reauthorizing
or adjusting contract parameters based on the error details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the message is received and processed successfully, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.accu_barriers">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">accu_barriers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/mvapi.html#accu_barriers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.accu_barriers" title="Link to this definition"></a></dt>
<dd><p>Determines if the higher, lower, and barrier distance of the current spot are accurate for an accumulator contract.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> (<em>dict</em>) – The proposal dictionary containing contract details and spot information.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the calculated high barrier, low barrier, barrier distance, and a boolean indicating
if the barriers and distance are accurate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.accu_payout">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">accu_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/mvapi.html#accu_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.accu_payout" title="Link to this definition"></a></dt>
<dd><p>Calculates the payout, match flag, and close flag for an accumulator contract.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prop</strong> (<em>dict</em>) – The proposal open contract dictionary containing contract details, spot information, and other related data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the calculated payout, a boolean indicating if the payout matches the bid price,
and a string indicating the close flag status.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mvapi.Accumulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">Accumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Accumulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Accumulator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="mvapi.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">Product</span></code></a></p>
<p>A class to represent an Accumulator product, inheriting from the Product class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Accumulator.species">
<span class="sig-name descname"><span class="pre">species</span></span><a class="headerlink" href="#mvapi.Accumulator.species" title="Link to this definition"></a></dt>
<dd><p>The type of the product, ‘Accumulator’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Accumulator.contract_type">
<span class="sig-name descname"><span class="pre">contract_type</span></span><a class="headerlink" href="#mvapi.Accumulator.contract_type" title="Link to this definition"></a></dt>
<dd><p>The type of contract, default is ‘ACCU’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Accumulator.growth_rate">
<span class="sig-name descname"><span class="pre">growth_rate</span></span><a class="headerlink" href="#mvapi.Accumulator.growth_rate" title="Link to this definition"></a></dt>
<dd><p>The growth rate of the accumulator, default is 0.05.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.randomise_attributes">
<span class="sig-name descname"><span class="pre">randomise_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Accumulator.randomise_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Accumulator.randomise_attributes" title="Link to this definition"></a></dt>
<dd><p>Randomises the attributes of the Accumulator instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._proposal">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Accumulator._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Accumulator._proposal" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal specific to the Accumulator product.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.check_barrier">
<span class="sig-name descname"><span class="pre">check_barrier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Accumulator.check_barrier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Accumulator.check_barrier" title="Link to this definition"></a></dt>
<dd><p>Checks barrier conditions for the given number of runs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.check_payout">
<span class="sig-name descname"><span class="pre">check_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Accumulator.check_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Accumulator.check_payout" title="Link to this definition"></a></dt>
<dd><p>Checks payout conditions for the given number of runs.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">species</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Accumulator'</span></em><a class="headerlink" href="#id7" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Accumulator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Accumulator.__init__" title="Link to this definition"></a></dt>
<dd><p>Initializes an Accumulator instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments to initialize the instance attributes. Includes ‘growth_rate’, which defaults to 0.05.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">randomise_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Accumulator.randomise_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id8" title="Link to this definition"></a></dt>
<dd><p>Randomises the attributes of the Accumulator instance.</p>
<p>Sets the symbol to a random choice from available symbols,
the stake to a random value within the defined range, and
the growth rate to a random value from a predefined list.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/mvapi.html#Accumulator._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id9" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal specific to the Accumulator product.</p>
<p>Creates a proposal dictionary based on the current instance attributes.
Includes ‘take_profit’ and ‘stop_loss’ if they are set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The JSON-encoded proposal.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">check_barrier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Accumulator.check_barrier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id10" title="Link to this definition"></a></dt>
<dd><p>Checks barrier conditions for all saved proposals and the given number of runs.</p>
<p>Randomises attributes and generates price proposals for the specified number of runs.
Analyzes messages to check if barriers are accurate and displays the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runs</strong> (<em>int</em>) – The number of times to run the check.</p></li>
<li><p><strong>show</strong> (<em>bool</em>) – If True, displays messages with failed barrier checks.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments for setting attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id11">
<span class="sig-name descname"><span class="pre">check_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Accumulator.check_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id11" title="Link to this definition"></a></dt>
<dd><p>to check payout obviously /s</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._check_closed">
<span class="sig-name descname"><span class="pre">_check_closed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Accumulator._check_closed" title="Link to this definition"></a></dt>
<dd><p>Checks if the contract has expired or been sold.</p>
<p>This method inspects the latest message received from the WebSocket API to determine if the contract is
expired or sold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the contract is expired or sold, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._check_connection">
<span class="sig-name descname"><span class="pre">_check_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator._check_connection" title="Link to this definition"></a></dt>
<dd><p>Checks the WebSocket connection by sending a ping message and waiting for a response. If an exception
occurs (indicating the connection is closed), it attempts to reconnect by creating a new WebSocket
connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._get_app_id">
<span class="sig-name descname"><span class="pre">_get_app_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Accumulator._get_app_id" title="Link to this definition"></a></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
<p>This method parses the <cite>app_id</cite> from the endpoint URL string.
If parsing fails, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The endpoint URL from which to extract the application ID.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted application ID. Defaults to 0 if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._get_app_markup">
<span class="sig-name descname"><span class="pre">_get_app_markup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#mvapi.Accumulator._get_app_markup" title="Link to this definition"></a></dt>
<dd><p>Retrieves the application markup percentage.</p>
<p>This method sends a request to get the application markup percentage after authorizing the WebSocket connection.
If an error occurs or the markup percentage is not available, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application markup percentage. Defaults to 0 if not retrievable.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._recv_msg_handler">
<span class="sig-name descname"><span class="pre">_recv_msg_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Accumulator._recv_msg_handler" title="Link to this definition"></a></dt>
<dd><p>Handles the reception of messages from the WebSocket.</p>
<p>This method attempts to receive and process messages from the WebSocket. It handles errors and retries
sending the request if necessary. Specific errors are managed with different strategies, such as reauthorizing
or adjusting contract parameters based on the error details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the message is received and processed successfully, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._send">
<span class="sig-name descname"><span class="pre">_send</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#mvapi.Accumulator._send" title="Link to this definition"></a></dt>
<dd><p>Sends the current proposal to the WebSocket and handles the response.</p>
<p>This method ensures the WebSocket connection is active, sends the proposal created by <cite>_proposal()</cite>,
and processes the response received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the message was successfully sent and a response was handled, otherwise <cite>False</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._set_app_details">
<span class="sig-name descname"><span class="pre">_set_app_details</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator._set_app_details" title="Link to this definition"></a></dt>
<dd><p>Retrieves application details such as endpoint, API token, app ID, and app markup percentage.</p>
<p>This method updates the <cite>app_details</cite> attribute with the current endpoint and API token.
It also retrieves and adds the application ID and markup percentage to the <cite>app_details</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator._set_attributes">
<span class="sig-name descname"><span class="pre">_set_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator._set_attributes" title="Link to this definition"></a></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
<p>This method updates the instance’s attributes based on the provided keyword arguments.
If the ‘take_profit’ or ‘stoploss’ attributes are updated, it’ll call ‘set_limit_orders’ method.
If the ‘endpoint’ or ‘api_token’ attributes are updated, it also updates application details
and performs additional actions like creating a WebSocket connection or authorizing the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments representing attribute names and their values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.authorise">
<span class="sig-name descname"><span class="pre">authorise</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Accumulator.authorise" title="Link to this definition"></a></dt>
<dd><p>Authorizes the WebSocket connection using the provided API token.</p>
<p>This method sends an authorization request with the API token and checks the response to determine
if the authorization was successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if authorization is successful, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.buy_contract">
<span class="sig-name descname"><span class="pre">buy_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator.buy_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to buy a contract.</p>
<p>This method tries to buy a contract for a specified number of <cite>runs</cite>. It randomizes
attributes if required and sends a price proposal with the <cite>buy</cite> parameter set to <cite>True</cite>.
Upon success, it updates the <cite>proposal_id</cite> and sends a buy contract proposal. The contract
ID is then appended to the <cite>contract_ids</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runs</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of contracts to attempt to buy. Defaults to 1.</p></li>
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.contract_proposal">
<span class="sig-name descname"><span class="pre">contract_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subscribe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator.contract_proposal" title="Link to this definition"></a></dt>
<dd><p>Gets the contract proposal.</p>
<p>This method retrieves the details of a contract using the provided <cite>contract_id</cite>.
If no <cite>contract_id</cite> is provided, it uses the last saved contract ID. It sends a
contract proposal message and optionally subscribes to updates based on the <cite>subscribe</cite> parameter.
If <cite>subscribe</cite> is set to 1, it starts streaming the contract updates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to retrieve details for. If not provided, the last saved contract ID is used.</p></li>
<li><p><strong>subscribe</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to subscribe to updates for the contract. Defaults to 0 (no subscription). If set to 1,
streaming of contract updates is initiated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.create_ws">
<span class="sig-name descname"><span class="pre">create_ws</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator.create_ws" title="Link to this definition"></a></dt>
<dd><p>Creates a WebSocket connection to the specified endpoint.</p>
<p>This method initializes the WebSocket connection using the endpoint URL. It sets the <cite>ws</cite> attribute
to the WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.get_all_poc">
<span class="sig-name descname"><span class="pre">get_all_poc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator.get_all_poc" title="Link to this definition"></a></dt>
<dd><p>Retrieves all open contract proposals.</p>
<p>This method iterates through all contract IDs stored in <cite>self.contract_ids</cite> and retrieves the details
for each open contract by calling the <cite>contract_proposal</cite> method with each contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.price_proposal">
<span class="sig-name descname"><span class="pre">price_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#mvapi.Accumulator.price_proposal" title="Link to this definition"></a></dt>
<dd><p>Requests a price proposal from the WebSocket.</p>
<p>This method sets the proposal type to ‘price_proposal’ and updates attributes based on
the provided arguments. It sends the proposal and optionally displays the response if
the <cite>buy</cite> parameter is <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>buy</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to buy the contract immediately after receiving the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>take_profit</strong> (<em>float</em><em>, </em><em>optional</em>) – The take profit value for the proposal. Defaults to 0.</p></li>
<li><p><strong>stop_loss</strong> (<em>float</em><em>, </em><em>optional</em>) – The stop loss value for the proposal. Defaults to 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the proposal was successfully sent and a response was received; otherwise, <cite>False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.sell_all_contracts">
<span class="sig-name descname"><span class="pre">sell_all_contracts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator.sell_all_contracts" title="Link to this definition"></a></dt>
<dd><p>Sells all contracts in the contract IDs list.</p>
<p>This method iterates over the list of contract IDs, and attempts to sell each contract one by one
by calling the <cite>sell_contract</cite> method</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.sell_contract">
<span class="sig-name descname"><span class="pre">sell_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Accumulator.sell_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to sell a contract by its ID.</p>
<p>This method sets the proposal type to ‘sell_contract’ and sends the proposal to the WebSocket API.
It handles the response and displays the result. If the proposal is unsuccessful, it retrieves the
contract proposal details again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to sell. If not provided, the last saved contract ID is used.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.send_message">
<span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#mvapi.Accumulator.send_message" title="Link to this definition"></a></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket and returns the response.</p>
<p>This method ensures the WebSocket connection is active, sends the provided message,
and processes the response. If an exception occurs, it retries sending the message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>dict</em>) – The JSON message to send to the WebSocket.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response received from the WebSocket.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.stream">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Accumulator.stream" title="Link to this definition"></a></dt>
<dd><p>Streams data from the WebSocket.</p>
<p>This method sends a proposal to the WebSocket and processes the incoming messages.
It handles the subscription to updates and stops streaming if the contract is closed or
a keyboard interrupt is detected.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns 1 upon successful completion of the streaming process.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Accumulator.tick_history">
<span class="sig-name descname"><span class="pre">tick_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#mvapi.Accumulator.tick_history" title="Link to this definition"></a></dt>
<dd><p>Fetches historical tick data for the specified symbol.</p>
<p>This method constructs a message to request historical tick data from the WebSocket API. It sends the
request with parameters specifying the symbol, number of ticks to retrieve, and the end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em><em>, </em><em>optional</em>) – The symbol for which to retrieve tick history. If not provided, defaults to <cite>self.symbol</cite>.</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of ticks to retrieve. Defaults to 1.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – The end time for the tick data. Defaults to ‘latest’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response from the WebSocket API containing the tick history data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.vanilla_barriers">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">vanilla_barriers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="_modules/mvapi.html#vanilla_barriers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.vanilla_barriers" title="Link to this definition"></a></dt>
<dd><p>Calculate expected barrier choices for vanillas based on given json</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.vanilla_ppp_ask">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">vanilla_ppp_ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#vanilla_ppp_ask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.vanilla_ppp_ask" title="Link to this definition"></a></dt>
<dd><p>Calculate expected payout per point (ppp) for a vanilla contract based on the given json</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.vanilla_payout">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">vanilla_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/mvapi.html#vanilla_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.vanilla_payout" title="Link to this definition"></a></dt>
<dd><p>payout, match_flag, close_flag</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mvapi.Vanilla">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">Vanilla</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="mvapi.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">Product</span></code></a></p>
<p>A class to represent a Vanilla product, inheriting from the Product class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.contract_type">
<span class="sig-name descname"><span class="pre">contract_type</span></span><a class="headerlink" href="#mvapi.Vanilla.contract_type" title="Link to this definition"></a></dt>
<dd><p>The type of contract, either ‘VANILLALONGCALL’ or ‘VANILLALONGPUT’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.strike">
<span class="sig-name descname"><span class="pre">strike</span></span><a class="headerlink" href="#mvapi.Vanilla.strike" title="Link to this definition"></a></dt>
<dd><p>The strike price for the contract.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><a class="headerlink" href="#mvapi.Vanilla.duration" title="Link to this definition"></a></dt>
<dd><p>The duration of the contract.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.duration_unit">
<span class="sig-name descname"><span class="pre">duration_unit</span></span><a class="headerlink" href="#mvapi.Vanilla.duration_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of the duration (‘m’ for minutes, ‘h’ for hours, ‘d’ for days).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.randomise_attributes">
<span class="sig-name descname"><span class="pre">randomise_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.randomise_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla.randomise_attributes" title="Link to this definition"></a></dt>
<dd><p>Randomises the attributes of the Vanilla instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._proposal">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla._proposal" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal specific to the Vanilla product.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.check_barrier">
<span class="sig-name descname"><span class="pre">check_barrier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.check_barrier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla.check_barrier" title="Link to this definition"></a></dt>
<dd><p>Validates the offered barriers in all proposals + for the given number of runs if defined.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.check_ask">
<span class="sig-name descname"><span class="pre">check_ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.check_ask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla.check_ask" title="Link to this definition"></a></dt>
<dd><p>Validates the payout per point (ask price) in all proposals + for the given number of runs if defined.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.bid_check">
<span class="sig-name descname"><span class="pre">bid_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mvapi.Vanilla.bid_check" title="Link to this definition"></a></dt>
<dd><p>Validates the payout (bid price) in all proposals + for the given number of runs if defined.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.species">
<span class="sig-name descname"><span class="pre">species</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Vanilla'</span></em><a class="headerlink" href="#mvapi.Vanilla.species" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla.__init__" title="Link to this definition"></a></dt>
<dd><p>Initializes a new instance of the Product class.</p>
<p>This constructor sets the initial attributes for the product, including default values
for stake, symbol, endpoint, and others. It also creates a WebSocket connection and
authorizes it if an API token is provided. Additionally, it sets application details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional attributes to be set for the instance.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.stake">
<span class="sig-name descname"><span class="pre">stake</span></span><a class="headerlink" href="#mvapi.Vanilla.stake" title="Link to this definition"></a></dt>
<dd><p>The amount to stake in each trade. Defaults to 10.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.symbol">
<span class="sig-name descname"><span class="pre">symbol</span></span><a class="headerlink" href="#mvapi.Vanilla.symbol" title="Link to this definition"></a></dt>
<dd><p>The symbol of the product. Defaults to ‘1HZ100V’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.take_profit">
<span class="sig-name descname"><span class="pre">take_profit</span></span><a class="headerlink" href="#mvapi.Vanilla.take_profit" title="Link to this definition"></a></dt>
<dd><p>The take profit amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.stop_loss">
<span class="sig-name descname"><span class="pre">stop_loss</span></span><a class="headerlink" href="#mvapi.Vanilla.stop_loss" title="Link to this definition"></a></dt>
<dd><p>The stop loss amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.messages">
<span class="sig-name descname"><span class="pre">messages</span></span><a class="headerlink" href="#mvapi.Vanilla.messages" title="Link to this definition"></a></dt>
<dd><p>List to store messages received from the WebSocket. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#mvapi.Vanilla.endpoint" title="Link to this definition"></a></dt>
<dd><p>The WebSocket endpoint. Defaults to “wss://blue.derivws.com/websockets/v3?app_id=16929”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.api_token">
<span class="sig-name descname"><span class="pre">api_token</span></span><a class="headerlink" href="#mvapi.Vanilla.api_token" title="Link to this definition"></a></dt>
<dd><p>API token for authentication. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.retry">
<span class="sig-name descname"><span class="pre">retry</span></span><a class="headerlink" href="#mvapi.Vanilla.retry" title="Link to this definition"></a></dt>
<dd><p>Counter for retry attempts when sending/receiving messages. Initialized to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.contract_ids">
<span class="sig-name descname"><span class="pre">contract_ids</span></span><a class="headerlink" href="#mvapi.Vanilla.contract_ids" title="Link to this definition"></a></dt>
<dd><p>List of contract IDs. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.stats">
<span class="sig-name descname"><span class="pre">stats</span></span><a class="headerlink" href="#mvapi.Vanilla.stats" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store statistics. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Vanilla.app_details">
<span class="sig-name descname"><span class="pre">app_details</span></span><a class="headerlink" href="#mvapi.Vanilla.app_details" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store application details. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">randomise_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.randomise_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id12" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id13" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal based on the current proposal type.</p>
<p>This method creates a JSON proposal based on the value of <cite>proposal_type</cite>.
It handles different proposal types such as buying a contract,
requesting a proposal, selling a contract, or raises an error if the type is not implemented.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The JSON string representation of the proposal.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If the <cite>proposal_type</cite> is ‘price_proposal’, indicating that this method should be used via a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">check_barrier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.check_barrier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id14" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">check_ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.check_ask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id15" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.check_payout">
<span class="sig-name descname"><span class="pre">check_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Vanilla.check_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Vanilla.check_payout" title="Link to this definition"></a></dt>
<dd><p>to check payout obviously /s</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._check_closed">
<span class="sig-name descname"><span class="pre">_check_closed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Vanilla._check_closed" title="Link to this definition"></a></dt>
<dd><p>Checks if the contract has expired or been sold.</p>
<p>This method inspects the latest message received from the WebSocket API to determine if the contract is
expired or sold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the contract is expired or sold, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._check_connection">
<span class="sig-name descname"><span class="pre">_check_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla._check_connection" title="Link to this definition"></a></dt>
<dd><p>Checks the WebSocket connection by sending a ping message and waiting for a response. If an exception
occurs (indicating the connection is closed), it attempts to reconnect by creating a new WebSocket
connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._get_app_id">
<span class="sig-name descname"><span class="pre">_get_app_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Vanilla._get_app_id" title="Link to this definition"></a></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
<p>This method parses the <cite>app_id</cite> from the endpoint URL string.
If parsing fails, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The endpoint URL from which to extract the application ID.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted application ID. Defaults to 0 if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._get_app_markup">
<span class="sig-name descname"><span class="pre">_get_app_markup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#mvapi.Vanilla._get_app_markup" title="Link to this definition"></a></dt>
<dd><p>Retrieves the application markup percentage.</p>
<p>This method sends a request to get the application markup percentage after authorizing the WebSocket connection.
If an error occurs or the markup percentage is not available, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application markup percentage. Defaults to 0 if not retrievable.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._recv_msg_handler">
<span class="sig-name descname"><span class="pre">_recv_msg_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Vanilla._recv_msg_handler" title="Link to this definition"></a></dt>
<dd><p>Handles the reception of messages from the WebSocket.</p>
<p>This method attempts to receive and process messages from the WebSocket. It handles errors and retries
sending the request if necessary. Specific errors are managed with different strategies, such as reauthorizing
or adjusting contract parameters based on the error details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the message is received and processed successfully, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._send">
<span class="sig-name descname"><span class="pre">_send</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#mvapi.Vanilla._send" title="Link to this definition"></a></dt>
<dd><p>Sends the current proposal to the WebSocket and handles the response.</p>
<p>This method ensures the WebSocket connection is active, sends the proposal created by <cite>_proposal()</cite>,
and processes the response received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the message was successfully sent and a response was handled, otherwise <cite>False</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._set_app_details">
<span class="sig-name descname"><span class="pre">_set_app_details</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla._set_app_details" title="Link to this definition"></a></dt>
<dd><p>Retrieves application details such as endpoint, API token, app ID, and app markup percentage.</p>
<p>This method updates the <cite>app_details</cite> attribute with the current endpoint and API token.
It also retrieves and adds the application ID and markup percentage to the <cite>app_details</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla._set_attributes">
<span class="sig-name descname"><span class="pre">_set_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla._set_attributes" title="Link to this definition"></a></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
<p>This method updates the instance’s attributes based on the provided keyword arguments.
If the ‘take_profit’ or ‘stoploss’ attributes are updated, it’ll call ‘set_limit_orders’ method.
If the ‘endpoint’ or ‘api_token’ attributes are updated, it also updates application details
and performs additional actions like creating a WebSocket connection or authorizing the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments representing attribute names and their values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.authorise">
<span class="sig-name descname"><span class="pre">authorise</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Vanilla.authorise" title="Link to this definition"></a></dt>
<dd><p>Authorizes the WebSocket connection using the provided API token.</p>
<p>This method sends an authorization request with the API token and checks the response to determine
if the authorization was successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if authorization is successful, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.buy_contract">
<span class="sig-name descname"><span class="pre">buy_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla.buy_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to buy a contract.</p>
<p>This method tries to buy a contract for a specified number of <cite>runs</cite>. It randomizes
attributes if required and sends a price proposal with the <cite>buy</cite> parameter set to <cite>True</cite>.
Upon success, it updates the <cite>proposal_id</cite> and sends a buy contract proposal. The contract
ID is then appended to the <cite>contract_ids</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runs</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of contracts to attempt to buy. Defaults to 1.</p></li>
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.contract_proposal">
<span class="sig-name descname"><span class="pre">contract_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subscribe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla.contract_proposal" title="Link to this definition"></a></dt>
<dd><p>Gets the contract proposal.</p>
<p>This method retrieves the details of a contract using the provided <cite>contract_id</cite>.
If no <cite>contract_id</cite> is provided, it uses the last saved contract ID. It sends a
contract proposal message and optionally subscribes to updates based on the <cite>subscribe</cite> parameter.
If <cite>subscribe</cite> is set to 1, it starts streaming the contract updates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to retrieve details for. If not provided, the last saved contract ID is used.</p></li>
<li><p><strong>subscribe</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to subscribe to updates for the contract. Defaults to 0 (no subscription). If set to 1,
streaming of contract updates is initiated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.create_ws">
<span class="sig-name descname"><span class="pre">create_ws</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla.create_ws" title="Link to this definition"></a></dt>
<dd><p>Creates a WebSocket connection to the specified endpoint.</p>
<p>This method initializes the WebSocket connection using the endpoint URL. It sets the <cite>ws</cite> attribute
to the WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.get_all_poc">
<span class="sig-name descname"><span class="pre">get_all_poc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla.get_all_poc" title="Link to this definition"></a></dt>
<dd><p>Retrieves all open contract proposals.</p>
<p>This method iterates through all contract IDs stored in <cite>self.contract_ids</cite> and retrieves the details
for each open contract by calling the <cite>contract_proposal</cite> method with each contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.price_proposal">
<span class="sig-name descname"><span class="pre">price_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#mvapi.Vanilla.price_proposal" title="Link to this definition"></a></dt>
<dd><p>Requests a price proposal from the WebSocket.</p>
<p>This method sets the proposal type to ‘price_proposal’ and updates attributes based on
the provided arguments. It sends the proposal and optionally displays the response if
the <cite>buy</cite> parameter is <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>buy</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to buy the contract immediately after receiving the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>take_profit</strong> (<em>float</em><em>, </em><em>optional</em>) – The take profit value for the proposal. Defaults to 0.</p></li>
<li><p><strong>stop_loss</strong> (<em>float</em><em>, </em><em>optional</em>) – The stop loss value for the proposal. Defaults to 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the proposal was successfully sent and a response was received; otherwise, <cite>False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.sell_all_contracts">
<span class="sig-name descname"><span class="pre">sell_all_contracts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla.sell_all_contracts" title="Link to this definition"></a></dt>
<dd><p>Sells all contracts in the contract IDs list.</p>
<p>This method iterates over the list of contract IDs, and attempts to sell each contract one by one
by calling the <cite>sell_contract</cite> method</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.sell_contract">
<span class="sig-name descname"><span class="pre">sell_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Vanilla.sell_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to sell a contract by its ID.</p>
<p>This method sets the proposal type to ‘sell_contract’ and sends the proposal to the WebSocket API.
It handles the response and displays the result. If the proposal is unsuccessful, it retrieves the
contract proposal details again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to sell. If not provided, the last saved contract ID is used.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.send_message">
<span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#mvapi.Vanilla.send_message" title="Link to this definition"></a></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket and returns the response.</p>
<p>This method ensures the WebSocket connection is active, sends the provided message,
and processes the response. If an exception occurs, it retries sending the message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>dict</em>) – The JSON message to send to the WebSocket.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response received from the WebSocket.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.stream">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Vanilla.stream" title="Link to this definition"></a></dt>
<dd><p>Streams data from the WebSocket.</p>
<p>This method sends a proposal to the WebSocket and processes the incoming messages.
It handles the subscription to updates and stops streaming if the contract is closed or
a keyboard interrupt is detected.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns 1 upon successful completion of the streaming process.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Vanilla.tick_history">
<span class="sig-name descname"><span class="pre">tick_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#mvapi.Vanilla.tick_history" title="Link to this definition"></a></dt>
<dd><p>Fetches historical tick data for the specified symbol.</p>
<p>This method constructs a message to request historical tick data from the WebSocket API. It sends the
request with parameters specifying the symbol, number of ticks to retrieve, and the end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em><em>, </em><em>optional</em>) – The symbol for which to retrieve tick history. If not provided, defaults to <cite>self.symbol</cite>.</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of ticks to retrieve. Defaults to 1.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – The end time for the tick data. Defaults to ‘latest’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response from the WebSocket API containing the tick history data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.turbo_ask">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">turbo_ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barrier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#turbo_ask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.turbo_ask" title="Link to this definition"></a></dt>
<dd><p>Calculates the ask price for 1 turbo contract</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.turbo_barrier">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">turbo_barrier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_of_min_spot</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#turbo_barrier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.turbo_barrier" title="Link to this definition"></a></dt>
<dd><p>Calculate expected barrier from proposal</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.turbo_ppps">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">turbo_ppps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_of_min_spot</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/mvapi.html#turbo_ppps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.turbo_ppps" title="Link to this definition"></a></dt>
<dd><p>Calculates the expected offered payout_per_point choices from the given json</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mvapi.turbo_payout">
<span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">turbo_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#turbo_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.turbo_payout" title="Link to this definition"></a></dt>
<dd><p>payout, match_flag, close_flag</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mvapi.Turbo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">Turbo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="mvapi.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">Product</span></code></a></p>
<p>A class to represent a Turbo product, inheriting from the Product class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.species">
<span class="sig-name descname"><span class="pre">species</span></span><a class="headerlink" href="#mvapi.Turbo.species" title="Link to this definition"></a></dt>
<dd><p>The type of the product, ‘turbo’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.strike">
<span class="sig-name descname"><span class="pre">strike</span></span><a class="headerlink" href="#mvapi.Turbo.strike" title="Link to this definition"></a></dt>
<dd><p>The strike price for the contract, default is ‘+10.00’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.payout_per_point">
<span class="sig-name descname"><span class="pre">payout_per_point</span></span><a class="headerlink" href="#mvapi.Turbo.payout_per_point" title="Link to this definition"></a></dt>
<dd><p>The payout per point, default is 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.contract_type">
<span class="sig-name descname"><span class="pre">contract_type</span></span><a class="headerlink" href="#mvapi.Turbo.contract_type" title="Link to this definition"></a></dt>
<dd><p>The type of contract, either ‘TURBOSLONG’ or ‘TURBOSSHORT’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><a class="headerlink" href="#mvapi.Turbo.duration" title="Link to this definition"></a></dt>
<dd><p>The duration of the contract, default is 5.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.duration_unit">
<span class="sig-name descname"><span class="pre">duration_unit</span></span><a class="headerlink" href="#mvapi.Turbo.duration_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of the duration (‘t’ for ticks, ‘s’ for seconds, ‘m’ for minutes, ‘h’ for hours, ‘d’ for days).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.randomise_attributes">
<span class="sig-name descname"><span class="pre">randomise_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo.randomise_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo.randomise_attributes" title="Link to this definition"></a></dt>
<dd><p>Randomises the attributes of the Turbo instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._proposal">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo._proposal" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal specific to the Turbo product.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">species</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Turbo'</span></em><a class="headerlink" href="#id16" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo.__init__" title="Link to this definition"></a></dt>
<dd><p>Initializes a new instance of the Product class.</p>
<p>This constructor sets the initial attributes for the product, including default values
for stake, symbol, endpoint, and others. It also creates a WebSocket connection and
authorizes it if an API token is provided. Additionally, it sets application details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional attributes to be set for the instance.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.stake">
<span class="sig-name descname"><span class="pre">stake</span></span><a class="headerlink" href="#mvapi.Turbo.stake" title="Link to this definition"></a></dt>
<dd><p>The amount to stake in each trade. Defaults to 10.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.symbol">
<span class="sig-name descname"><span class="pre">symbol</span></span><a class="headerlink" href="#mvapi.Turbo.symbol" title="Link to this definition"></a></dt>
<dd><p>The symbol of the product. Defaults to ‘1HZ100V’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.take_profit">
<span class="sig-name descname"><span class="pre">take_profit</span></span><a class="headerlink" href="#mvapi.Turbo.take_profit" title="Link to this definition"></a></dt>
<dd><p>The take profit amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.stop_loss">
<span class="sig-name descname"><span class="pre">stop_loss</span></span><a class="headerlink" href="#mvapi.Turbo.stop_loss" title="Link to this definition"></a></dt>
<dd><p>The stop loss amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.messages">
<span class="sig-name descname"><span class="pre">messages</span></span><a class="headerlink" href="#mvapi.Turbo.messages" title="Link to this definition"></a></dt>
<dd><p>List to store messages received from the WebSocket. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#mvapi.Turbo.endpoint" title="Link to this definition"></a></dt>
<dd><p>The WebSocket endpoint. Defaults to “wss://blue.derivws.com/websockets/v3?app_id=16929”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.api_token">
<span class="sig-name descname"><span class="pre">api_token</span></span><a class="headerlink" href="#mvapi.Turbo.api_token" title="Link to this definition"></a></dt>
<dd><p>API token for authentication. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.retry">
<span class="sig-name descname"><span class="pre">retry</span></span><a class="headerlink" href="#mvapi.Turbo.retry" title="Link to this definition"></a></dt>
<dd><p>Counter for retry attempts when sending/receiving messages. Initialized to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.contract_ids">
<span class="sig-name descname"><span class="pre">contract_ids</span></span><a class="headerlink" href="#mvapi.Turbo.contract_ids" title="Link to this definition"></a></dt>
<dd><p>List of contract IDs. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.stats">
<span class="sig-name descname"><span class="pre">stats</span></span><a class="headerlink" href="#mvapi.Turbo.stats" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store statistics. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mvapi.Turbo.app_details">
<span class="sig-name descname"><span class="pre">app_details</span></span><a class="headerlink" href="#mvapi.Turbo.app_details" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store application details. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">randomise_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo.randomise_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id17" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id18" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal based on the current proposal type.</p>
<p>This method creates a JSON proposal based on the value of <cite>proposal_type</cite>.
It handles different proposal types such as buying a contract,
requesting a proposal, selling a contract, or raises an error if the type is not implemented.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The JSON string representation of the proposal.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If the <cite>proposal_type</cite> is ‘price_proposal’, indicating that this method should be used via a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.get_start_of_min_tick">
<span class="sig-name descname"><span class="pre">get_start_of_min_tick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo.get_start_of_min_tick"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo.get_start_of_min_tick" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.check_ppps">
<span class="sig-name descname"><span class="pre">check_ppps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo.check_ppps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo.check_ppps" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.check_payout">
<span class="sig-name descname"><span class="pre">check_payout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Turbo.check_payout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mvapi.Turbo.check_payout" title="Link to this definition"></a></dt>
<dd><p>to check payout obviously /s</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._check_closed">
<span class="sig-name descname"><span class="pre">_check_closed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Turbo._check_closed" title="Link to this definition"></a></dt>
<dd><p>Checks if the contract has expired or been sold.</p>
<p>This method inspects the latest message received from the WebSocket API to determine if the contract is
expired or sold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the contract is expired or sold, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._check_connection">
<span class="sig-name descname"><span class="pre">_check_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo._check_connection" title="Link to this definition"></a></dt>
<dd><p>Checks the WebSocket connection by sending a ping message and waiting for a response. If an exception
occurs (indicating the connection is closed), it attempts to reconnect by creating a new WebSocket
connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._get_app_id">
<span class="sig-name descname"><span class="pre">_get_app_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Turbo._get_app_id" title="Link to this definition"></a></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
<p>This method parses the <cite>app_id</cite> from the endpoint URL string.
If parsing fails, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The endpoint URL from which to extract the application ID.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted application ID. Defaults to 0 if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._get_app_markup">
<span class="sig-name descname"><span class="pre">_get_app_markup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#mvapi.Turbo._get_app_markup" title="Link to this definition"></a></dt>
<dd><p>Retrieves the application markup percentage.</p>
<p>This method sends a request to get the application markup percentage after authorizing the WebSocket connection.
If an error occurs or the markup percentage is not available, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application markup percentage. Defaults to 0 if not retrievable.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._recv_msg_handler">
<span class="sig-name descname"><span class="pre">_recv_msg_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Turbo._recv_msg_handler" title="Link to this definition"></a></dt>
<dd><p>Handles the reception of messages from the WebSocket.</p>
<p>This method attempts to receive and process messages from the WebSocket. It handles errors and retries
sending the request if necessary. Specific errors are managed with different strategies, such as reauthorizing
or adjusting contract parameters based on the error details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the message is received and processed successfully, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._send">
<span class="sig-name descname"><span class="pre">_send</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#mvapi.Turbo._send" title="Link to this definition"></a></dt>
<dd><p>Sends the current proposal to the WebSocket and handles the response.</p>
<p>This method ensures the WebSocket connection is active, sends the proposal created by <cite>_proposal()</cite>,
and processes the response received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the message was successfully sent and a response was handled, otherwise <cite>False</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._set_app_details">
<span class="sig-name descname"><span class="pre">_set_app_details</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo._set_app_details" title="Link to this definition"></a></dt>
<dd><p>Retrieves application details such as endpoint, API token, app ID, and app markup percentage.</p>
<p>This method updates the <cite>app_details</cite> attribute with the current endpoint and API token.
It also retrieves and adds the application ID and markup percentage to the <cite>app_details</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo._set_attributes">
<span class="sig-name descname"><span class="pre">_set_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo._set_attributes" title="Link to this definition"></a></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
<p>This method updates the instance’s attributes based on the provided keyword arguments.
If the ‘take_profit’ or ‘stoploss’ attributes are updated, it’ll call ‘set_limit_orders’ method.
If the ‘endpoint’ or ‘api_token’ attributes are updated, it also updates application details
and performs additional actions like creating a WebSocket connection or authorizing the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments representing attribute names and their values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.authorise">
<span class="sig-name descname"><span class="pre">authorise</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Turbo.authorise" title="Link to this definition"></a></dt>
<dd><p>Authorizes the WebSocket connection using the provided API token.</p>
<p>This method sends an authorization request with the API token and checks the response to determine
if the authorization was successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if authorization is successful, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.buy_contract">
<span class="sig-name descname"><span class="pre">buy_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo.buy_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to buy a contract.</p>
<p>This method tries to buy a contract for a specified number of <cite>runs</cite>. It randomizes
attributes if required and sends a price proposal with the <cite>buy</cite> parameter set to <cite>True</cite>.
Upon success, it updates the <cite>proposal_id</cite> and sends a buy contract proposal. The contract
ID is then appended to the <cite>contract_ids</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runs</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of contracts to attempt to buy. Defaults to 1.</p></li>
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.contract_proposal">
<span class="sig-name descname"><span class="pre">contract_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subscribe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo.contract_proposal" title="Link to this definition"></a></dt>
<dd><p>Gets the contract proposal.</p>
<p>This method retrieves the details of a contract using the provided <cite>contract_id</cite>.
If no <cite>contract_id</cite> is provided, it uses the last saved contract ID. It sends a
contract proposal message and optionally subscribes to updates based on the <cite>subscribe</cite> parameter.
If <cite>subscribe</cite> is set to 1, it starts streaming the contract updates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to retrieve details for. If not provided, the last saved contract ID is used.</p></li>
<li><p><strong>subscribe</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to subscribe to updates for the contract. Defaults to 0 (no subscription). If set to 1,
streaming of contract updates is initiated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.create_ws">
<span class="sig-name descname"><span class="pre">create_ws</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo.create_ws" title="Link to this definition"></a></dt>
<dd><p>Creates a WebSocket connection to the specified endpoint.</p>
<p>This method initializes the WebSocket connection using the endpoint URL. It sets the <cite>ws</cite> attribute
to the WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.get_all_poc">
<span class="sig-name descname"><span class="pre">get_all_poc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo.get_all_poc" title="Link to this definition"></a></dt>
<dd><p>Retrieves all open contract proposals.</p>
<p>This method iterates through all contract IDs stored in <cite>self.contract_ids</cite> and retrieves the details
for each open contract by calling the <cite>contract_proposal</cite> method with each contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.price_proposal">
<span class="sig-name descname"><span class="pre">price_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#mvapi.Turbo.price_proposal" title="Link to this definition"></a></dt>
<dd><p>Requests a price proposal from the WebSocket.</p>
<p>This method sets the proposal type to ‘price_proposal’ and updates attributes based on
the provided arguments. It sends the proposal and optionally displays the response if
the <cite>buy</cite> parameter is <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>buy</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to buy the contract immediately after receiving the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>take_profit</strong> (<em>float</em><em>, </em><em>optional</em>) – The take profit value for the proposal. Defaults to 0.</p></li>
<li><p><strong>stop_loss</strong> (<em>float</em><em>, </em><em>optional</em>) – The stop loss value for the proposal. Defaults to 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the proposal was successfully sent and a response was received; otherwise, <cite>False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.sell_all_contracts">
<span class="sig-name descname"><span class="pre">sell_all_contracts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo.sell_all_contracts" title="Link to this definition"></a></dt>
<dd><p>Sells all contracts in the contract IDs list.</p>
<p>This method iterates over the list of contract IDs, and attempts to sell each contract one by one
by calling the <cite>sell_contract</cite> method</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.sell_contract">
<span class="sig-name descname"><span class="pre">sell_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mvapi.Turbo.sell_contract" title="Link to this definition"></a></dt>
<dd><p>Attempts to sell a contract by its ID.</p>
<p>This method sets the proposal type to ‘sell_contract’ and sends the proposal to the WebSocket API.
It handles the response and displays the result. If the proposal is unsuccessful, it retrieves the
contract proposal details again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to sell. If not provided, the last saved contract ID is used.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.send_message">
<span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#mvapi.Turbo.send_message" title="Link to this definition"></a></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket and returns the response.</p>
<p>This method ensures the WebSocket connection is active, sends the provided message,
and processes the response. If an exception occurs, it retries sending the message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>dict</em>) – The JSON message to send to the WebSocket.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response received from the WebSocket.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.stream">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#mvapi.Turbo.stream" title="Link to this definition"></a></dt>
<dd><p>Streams data from the WebSocket.</p>
<p>This method sends a proposal to the WebSocket and processes the incoming messages.
It handles the subscription to updates and stops streaming if the contract is closed or
a keyboard interrupt is detected.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns 1 upon successful completion of the streaming process.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mvapi.Turbo.tick_history">
<span class="sig-name descname"><span class="pre">tick_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#mvapi.Turbo.tick_history" title="Link to this definition"></a></dt>
<dd><p>Fetches historical tick data for the specified symbol.</p>
<p>This method constructs a message to request historical tick data from the WebSocket API. It sends the
request with parameters specifying the symbol, number of ticks to retrieve, and the end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em><em>, </em><em>optional</em>) – The symbol for which to retrieve tick history. If not provided, defaults to <cite>self.symbol</cite>.</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of ticks to retrieve. Defaults to 1.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – The end time for the tick data. Defaults to ‘latest’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response from the WebSocket API containing the tick history data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id19">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mvapi.</span></span><span class="sig-name descname"><span class="pre">Product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mvapi.html#Product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id19" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A base class to represent a product for trading contracts through DerivAPI via WebSocket.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">api_token</span></span><a class="headerlink" href="#id20" title="Link to this definition"></a></dt>
<dd><p>API token for authentication.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id21">
<span class="sig-name descname"><span class="pre">stake</span></span><a class="headerlink" href="#id21" title="Link to this definition"></a></dt>
<dd><p>The amount to stake in each trade.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id22">
<span class="sig-name descname"><span class="pre">symbol</span></span><a class="headerlink" href="#id22" title="Link to this definition"></a></dt>
<dd><p>The underlying symbol of the product.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id23">
<span class="sig-name descname"><span class="pre">messages</span></span><a class="headerlink" href="#id23" title="Link to this definition"></a></dt>
<dd><p>List to store messages received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id24">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#id24" title="Link to this definition"></a></dt>
<dd><p>The WebSocket endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id25">
<span class="sig-name descname"><span class="pre">retry</span></span><a class="headerlink" href="#id25" title="Link to this definition"></a></dt>
<dd><p>Counter for retry attempts when sending/receiving messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id26">
<span class="sig-name descname"><span class="pre">contract_ids</span></span><a class="headerlink" href="#id26" title="Link to this definition"></a></dt>
<dd><p>List of contract IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id27">
<span class="sig-name descname"><span class="pre">ws</span></span><a class="headerlink" href="#id27" title="Link to this definition"></a></dt>
<dd><p>WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>WebSocket</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_set_attributes(**kwargs)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_set_app_details()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Saves application details like endpoint and API token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_get_app_markup()</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>Retrieves the application markup percentage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_get_app_id(string)</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_proposal()</span> <span class="pre">:</span> <span class="pre">str</span></span></dt>
<dd><p>Generates a proposal based on the current proposal type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_send()</span> <span class="pre">:</span> <span class="pre">dict</span></span></dt>
<dd><p>Sends a proposal to the WebSocket and handles the response.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">send_message(message)</span> <span class="pre">:</span> <span class="pre">dict</span></span></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">stream()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Streams data from the WebSocket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">price_proposal(random=False,</span> <span class="pre">buy=False,</span> <span class="pre">take_profit=0,</span> <span class="pre">stop_loss=0,</span> <span class="pre">\*\*kwargs)</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Gets a price proposal.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">buy_contract(runs=1,</span> <span class="pre">random=False,</span> <span class="pre">\*\*kwargs)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Attempts to buy a contract.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">contract_proposal(contract_id=None,</span> <span class="pre">subscribe=0)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Gets contract details and optionally subscribes to updates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_all_poc()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Gets all proposal open contracts from saved contract IDs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">tick_history(symbol=False,</span> <span class="pre">count=1,</span> <span class="pre">end='latest')</span> <span class="pre">:</span> <span class="pre">dict</span></span></dt>
<dd><p>Retrieves historical tick data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_check_connection()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Checks the WebSocket connection and reopens it if closed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_check_closed()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Checks if a contract is closed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">sell_contract(contract_id=None)</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Attempts to sell a contract.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">sell_all_contracts()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Attempts to sell all contracts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_ws()</span> <span class="pre">:</span> <span class="pre">None</span></span></dt>
<dd><p>Creates a new WebSocket connection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">authorise()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Authorises the WebSocket connection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">_recv_msg_handler()</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Handles messages received from the WebSocket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id28">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id28" title="Link to this definition"></a></dt>
<dd><p>Initializes a new instance of the Product class.</p>
<p>This constructor sets the initial attributes for the product, including default values
for stake, symbol, endpoint, and others. It also creates a WebSocket connection and
authorizes it if an API token is provided. Additionally, it sets application details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional attributes to be set for the instance.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="id29">
<span class="sig-name descname"><span class="pre">stake</span></span><a class="headerlink" href="#id29" title="Link to this definition"></a></dt>
<dd><p>The amount to stake in each trade. Defaults to 10.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id30">
<span class="sig-name descname"><span class="pre">symbol</span></span><a class="headerlink" href="#id30" title="Link to this definition"></a></dt>
<dd><p>The symbol of the product. Defaults to ‘1HZ100V’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id31">
<span class="sig-name descname"><span class="pre">take_profit</span></span><a class="headerlink" href="#id31" title="Link to this definition"></a></dt>
<dd><p>The take profit amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id32">
<span class="sig-name descname"><span class="pre">stop_loss</span></span><a class="headerlink" href="#id32" title="Link to this definition"></a></dt>
<dd><p>The stop loss amount in each trade. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id33">
<span class="sig-name descname"><span class="pre">messages</span></span><a class="headerlink" href="#id33" title="Link to this definition"></a></dt>
<dd><p>List to store messages received from the WebSocket. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id34">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#id34" title="Link to this definition"></a></dt>
<dd><p>The WebSocket endpoint. Defaults to “wss://blue.derivws.com/websockets/v3?app_id=16929”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id35">
<span class="sig-name descname"><span class="pre">api_token</span></span><a class="headerlink" href="#id35" title="Link to this definition"></a></dt>
<dd><p>API token for authentication. Defaults to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id36">
<span class="sig-name descname"><span class="pre">retry</span></span><a class="headerlink" href="#id36" title="Link to this definition"></a></dt>
<dd><p>Counter for retry attempts when sending/receiving messages. Initialized to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id37">
<span class="sig-name descname"><span class="pre">contract_ids</span></span><a class="headerlink" href="#id37" title="Link to this definition"></a></dt>
<dd><p>List of contract IDs. Initialized as an empty list.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id38">
<span class="sig-name descname"><span class="pre">stats</span></span><a class="headerlink" href="#id38" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store statistics. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id39">
<span class="sig-name descname"><span class="pre">app_details</span></span><a class="headerlink" href="#id39" title="Link to this definition"></a></dt>
<dd><p>Dictionary to store application details. Initialized as an empty dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id40">
<span class="sig-name descname"><span class="pre">_set_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._set_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id40" title="Link to this definition"></a></dt>
<dd><p>Sets multiple attributes from keyword arguments.</p>
<p>This method updates the instance’s attributes based on the provided keyword arguments.
If the ‘take_profit’ or ‘stoploss’ attributes are updated, it’ll call ‘set_limit_orders’ method.
If the ‘endpoint’ or ‘api_token’ attributes are updated, it also updates application details
and performs additional actions like creating a WebSocket connection or authorizing the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments representing attribute names and their values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id41">
<span class="sig-name descname"><span class="pre">_set_app_details</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._set_app_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id41" title="Link to this definition"></a></dt>
<dd><p>Retrieves application details such as endpoint, API token, app ID, and app markup percentage.</p>
<p>This method updates the <cite>app_details</cite> attribute with the current endpoint and API token.
It also retrieves and adds the application ID and markup percentage to the <cite>app_details</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id42">
<span class="sig-name descname"><span class="pre">_get_app_markup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._get_app_markup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id42" title="Link to this definition"></a></dt>
<dd><p>Retrieves the application markup percentage.</p>
<p>This method sends a request to get the application markup percentage after authorizing the WebSocket connection.
If an error occurs or the markup percentage is not available, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application markup percentage. Defaults to 0 if not retrievable.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id43">
<span class="sig-name descname"><span class="pre">_get_app_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._get_app_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id43" title="Link to this definition"></a></dt>
<dd><p>Extracts the application ID from the endpoint URL.</p>
<p>This method parses the <cite>app_id</cite> from the endpoint URL string.
If parsing fails, it returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The endpoint URL from which to extract the application ID.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted application ID. Defaults to 0 if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id44">
<span class="sig-name descname"><span class="pre">_proposal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id44" title="Link to this definition"></a></dt>
<dd><p>Generates a proposal based on the current proposal type.</p>
<p>This method creates a JSON proposal based on the value of <cite>proposal_type</cite>.
It handles different proposal types such as buying a contract,
requesting a proposal, selling a contract, or raises an error if the type is not implemented.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The JSON string representation of the proposal.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If the <cite>proposal_type</cite> is ‘price_proposal’, indicating that this method should be used via a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id45">
<span class="sig-name descname"><span class="pre">_send</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id45" title="Link to this definition"></a></dt>
<dd><p>Sends the current proposal to the WebSocket and handles the response.</p>
<p>This method ensures the WebSocket connection is active, sends the proposal created by <cite>_proposal()</cite>,
and processes the response received from the WebSocket.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the message was successfully sent and a response was handled, otherwise <cite>False</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id46">
<span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.send_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id46" title="Link to this definition"></a></dt>
<dd><p>Sends a user-defined JSON message to the WebSocket and returns the response.</p>
<p>This method ensures the WebSocket connection is active, sends the provided message,
and processes the response. If an exception occurs, it retries sending the message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>dict</em>) – The JSON message to send to the WebSocket.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response received from the WebSocket.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id47">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id47" title="Link to this definition"></a></dt>
<dd><p>Streams data from the WebSocket.</p>
<p>This method sends a proposal to the WebSocket and processes the incoming messages.
It handles the subscription to updates and stops streaming if the contract is closed or
a keyboard interrupt is detected.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns 1 upon successful completion of the streaming process.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id48">
<span class="sig-name descname"><span class="pre">price_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.price_proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id48" title="Link to this definition"></a></dt>
<dd><p>Requests a price proposal from the WebSocket.</p>
<p>This method sets the proposal type to ‘price_proposal’ and updates attributes based on
the provided arguments. It sends the proposal and optionally displays the response if
the <cite>buy</cite> parameter is <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>buy</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to buy the contract immediately after receiving the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>take_profit</strong> (<em>float</em><em>, </em><em>optional</em>) – The take profit value for the proposal. Defaults to 0.</p></li>
<li><p><strong>stop_loss</strong> (<em>float</em><em>, </em><em>optional</em>) – The stop loss value for the proposal. Defaults to 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the proposal was successfully sent and a response was received; otherwise, <cite>False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id49">
<span class="sig-name descname"><span class="pre">buy_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.buy_contract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id49" title="Link to this definition"></a></dt>
<dd><p>Attempts to buy a contract.</p>
<p>This method tries to buy a contract for a specified number of <cite>runs</cite>. It randomizes
attributes if required and sends a price proposal with the <cite>buy</cite> parameter set to <cite>True</cite>.
Upon success, it updates the <cite>proposal_id</cite> and sends a buy contract proposal. The contract
ID is then appended to the <cite>contract_ids</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>runs</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of contracts to attempt to buy. Defaults to 1.</p></li>
<li><p><strong>random</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to randomize attributes before sending the proposal. Defaults to <cite>False</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments</em>) – Additional attributes to set for the proposal.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id50">
<span class="sig-name descname"><span class="pre">contract_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subscribe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.contract_proposal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id50" title="Link to this definition"></a></dt>
<dd><p>Gets the contract proposal.</p>
<p>This method retrieves the details of a contract using the provided <cite>contract_id</cite>.
If no <cite>contract_id</cite> is provided, it uses the last saved contract ID. It sends a
contract proposal message and optionally subscribes to updates based on the <cite>subscribe</cite> parameter.
If <cite>subscribe</cite> is set to 1, it starts streaming the contract updates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to retrieve details for. If not provided, the last saved contract ID is used.</p></li>
<li><p><strong>subscribe</strong> (<em>int</em><em>, </em><em>optional</em>) – Whether to subscribe to updates for the contract. Defaults to 0 (no subscription). If set to 1,
streaming of contract updates is initiated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id51">
<span class="sig-name descname"><span class="pre">get_all_poc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.get_all_poc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id51" title="Link to this definition"></a></dt>
<dd><p>Retrieves all open contract proposals.</p>
<p>This method iterates through all contract IDs stored in <cite>self.contract_ids</cite> and retrieves the details
for each open contract by calling the <cite>contract_proposal</cite> method with each contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id52">
<span class="sig-name descname"><span class="pre">tick_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.tick_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id52" title="Link to this definition"></a></dt>
<dd><p>Fetches historical tick data for the specified symbol.</p>
<p>This method constructs a message to request historical tick data from the WebSocket API. It sends the
request with parameters specifying the symbol, number of ticks to retrieve, and the end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em><em>, </em><em>optional</em>) – The symbol for which to retrieve tick history. If not provided, defaults to <cite>self.symbol</cite>.</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of ticks to retrieve. Defaults to 1.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – The end time for the tick data. Defaults to ‘latest’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response from the WebSocket API containing the tick history data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id53">
<span class="sig-name descname"><span class="pre">_check_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._check_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id53" title="Link to this definition"></a></dt>
<dd><p>Checks the WebSocket connection by sending a ping message and waiting for a response. If an exception
occurs (indicating the connection is closed), it attempts to reconnect by creating a new WebSocket
connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id54">
<span class="sig-name descname"><span class="pre">_check_closed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._check_closed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id54" title="Link to this definition"></a></dt>
<dd><p>Checks if the contract has expired or been sold.</p>
<p>This method inspects the latest message received from the WebSocket API to determine if the contract is
expired or sold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the contract is expired or sold, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id55">
<span class="sig-name descname"><span class="pre">sell_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.sell_contract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id55" title="Link to this definition"></a></dt>
<dd><p>Attempts to sell a contract by its ID.</p>
<p>This method sets the proposal type to ‘sell_contract’ and sends the proposal to the WebSocket API.
It handles the response and displays the result. If the proposal is unsuccessful, it retrieves the
contract proposal details again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>contract_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The ID of the contract to sell. If not provided, the last saved contract ID is used.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id56">
<span class="sig-name descname"><span class="pre">sell_all_contracts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.sell_all_contracts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id56" title="Link to this definition"></a></dt>
<dd><p>Sells all contracts in the contract IDs list.</p>
<p>This method iterates over the list of contract IDs, and attempts to sell each contract one by one
by calling the <cite>sell_contract</cite> method</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id57">
<span class="sig-name descname"><span class="pre">create_ws</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.create_ws"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id57" title="Link to this definition"></a></dt>
<dd><p>Creates a WebSocket connection to the specified endpoint.</p>
<p>This method initializes the WebSocket connection using the endpoint URL. It sets the <cite>ws</cite> attribute
to the WebSocket connection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id58">
<span class="sig-name descname"><span class="pre">authorise</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product.authorise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id58" title="Link to this definition"></a></dt>
<dd><p>Authorizes the WebSocket connection using the provided API token.</p>
<p>This method sends an authorization request with the API token and checks the response to determine
if the authorization was successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if authorization is successful, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id59">
<span class="sig-name descname"><span class="pre">_recv_msg_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/mvapi.html#Product._recv_msg_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id59" title="Link to this definition"></a></dt>
<dd><p>Handles the reception of messages from the WebSocket.</p>
<p>This method attempts to receive and process messages from the WebSocket. It handles errors and retries
sending the request if necessary. Specific errors are managed with different strategies, such as reauthorizing
or adjusting contract parameters based on the error details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 if the message is received and processed successfully, otherwise 0.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Matthew-Deriv, VishalMenon-Deriv.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>